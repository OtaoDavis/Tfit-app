(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[545],{285:(e,t,s)=>{"use strict";s.d(t,{$:()=>d,r:()=>o});var a=s(5155),l=s(2115),r=s(9708),n=s(2085),i=s(9434);let o=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=l.forwardRef((e,t)=>{let{className:s,variant:l,size:n,asChild:d=!1,...c}=e,m=d?r.DX:"button";return(0,a.jsx)(m,{className:(0,i.cn)(o({variant:l,size:n,className:s})),ref:t,...c})});d.displayName="Button"},549:(e,t,s)=>{"use strict";s.d(t,{$m:()=>c,As:()=>d,nD:()=>o,ub:()=>m});var a=s(5155),l=s(2115),r=s(3478),n=s(9556),i=s(9434);let o=r.bL,d=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.q7,{ref:t,className:(0,i.cn)("border-b",s),...l})});d.displayName="AccordionItem";let c=l.forwardRef((e,t)=>{let{className:s,children:l,...o}=e;return(0,a.jsx)(r.Y9,{className:"flex",children:(0,a.jsxs)(r.l9,{ref:t,className:(0,i.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",s),...o,children:[l,(0,a.jsx)(n.A,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})})});c.displayName=r.l9.displayName;let m=l.forwardRef((e,t)=>{let{className:s,children:l,...n}=e;return(0,a.jsx)(r.UC,{ref:t,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:(0,a.jsx)("div",{className:(0,i.cn)("pb-4 pt-0",s),children:l})})});m.displayName=r.UC.displayName},2484:(e,t,s)=>{"use strict";s.d(t,{StepsTracker:()=>T});var a=s(5155),l=s(2115),r=s(6695),n=s(285),i=s(4944),o=s(172),d=s(6462),c=s(5222),m=s(1949),u=s(8127),p=s(3638),x=s(7481),f=s(6267),g=s(5251),h=s(9328),j=s(644),y=s(3343),N=s(4165),v=s(2523),b=s(5057),w=s(549);let S="stepHistory_v1",k="userStepGoal_v1";function T(){let[e,t]=(0,l.useState)(0),[s,T]=(0,l.useState)(1e4),[C,M]=(0,l.useState)("10000"),[A,D]=(0,l.useState)([]),[E,L]=(0,l.useState)(!1),[I,R]=(0,l.useState)(null),[G,O]=(0,l.useState)(!1),[_,H]=(0,l.useState)(null),{toast:F}=(0,x.dj)(),P=(0,l.useRef)(null),z=(0,l.useRef)(null),U=(0,l.useRef)(null),[$,J]=(0,l.useState)(!1),Z=(0,l.useRef)(A),B=(0,l.useRef)(s),W=(0,l.useRef)(e),Y=(0,l.useRef)(G);(0,l.useEffect)(()=>{Z.current=A},[A]),(0,l.useEffect)(()=>{B.current=s},[s]),(0,l.useEffect)(()=>{W.current=e},[e]),(0,l.useEffect)(()=>{Y.current=G},[G]);let q=f.Ii.isNativePlatform()&&"web"!==f.Ii.getPlatform(),V=(0,l.useCallback)(()=>(0,h.GP)((0,j.o)(new Date),"yyyy-MM-dd"),[]);(0,l.useEffect)(()=>{J(!0);let e=localStorage.getItem(k);if(e){let t=parseInt(e,10);!isNaN(t)&&t>0&&(T(t),M(t.toString()))}let t=localStorage.getItem(S),s=[];if(t)try{s=JSON.parse(t)}catch(e){console.error("Failed to parse step history",e)}let a=V(),l=e?parseInt(e,10):1e4,r=s.findIndex(e=>e.date===a);-1===r?s.push({date:a,steps:0,goal:l}):s[r].goal!==l&&(s[r].goal=l),D(s.sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime())),U.current=a},[V]),(0,l.useEffect)(()=>{$&&(localStorage.setItem(k,s.toString()),A.length>0&&localStorage.setItem(S,JSON.stringify(A)))},[s,A,$]);let X=(0,l.useCallback)((e,t,s)=>{D(a=>{let l=[...a],r=l.findIndex(t=>t.date===e);return -1!==r?l[r]={...l[r],steps:t,goal:s}:l.push({date:e,steps:t,goal:s}),l.sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime())})},[]),K=(0,l.useCallback)((e,s)=>{let a=Z.current,l=B.current,r=a.find(t=>t.date===e),n=r?r.steps:0;X(e,n+(s>0?s:0),r?r.goal:l),t(0),z.current=null},[X]),Q=(0,l.useCallback)(()=>{if(!q||!g.c){R("Step tracking is not available on this platform/device."),H(!1);return}L(!0),R(null),g.c.isStepCountingAvailable().then(e=>{if(H(e),e){let e=V(),s=Z.current.find(t=>t.date===e);null==s||s.steps,U.current!==e&&(U.current&&W.current>0&&K(U.current,W.current),U.current=e,z.current=null,t(0)),P.current=g.c.startPedometerUpdates().subscribe(e=>{L(!1);let s=V();if(U.current!==s)U.current&&W.current>0&&K(U.current,W.current),U.current=s,z.current=e.numberOfSteps,t(0);else if(null===z.current)z.current=e.numberOfSteps,t(0);else{let s=e.numberOfSteps-z.current;t(s>0?s:0)}O(!0),R(null)},e=>{console.error("Error during pedometer updates:",e);let t="Failed to get step updates. Motion permissions might be needed via OS settings.";(null==e?void 0:e.message)&&(t=e.message),"string"==typeof e&&e.toLowerCase().includes("permission")?t="Permission denied for motion activity. Please enable it in settings.":"string"==typeof e&&e.toLowerCase().includes("not authorized")&&(t="Motion activity not authorized. Please enable permissions in settings."),R(t),O(!1),L(!1)})}else R("Step counting is not available on this device."),L(!1)}).catch(e=>{console.error("Error checking step counting availability:",e),R("Could not check step counting availability. Ensure permissions are granted."),H(!1),L(!1)})},[q,F,V,K]),ee=(0,l.useCallback)(()=>{P.current&&(P.current.unsubscribe(),P.current=null),Y.current&&U.current&&W.current>=0&&K(U.current,W.current),O(!1)},[K]);(0,l.useEffect)(()=>(q&&$?Q():$&&(H(!1),R("Step tracking is only available on native mobile devices.")),()=>{ee()}),[q,$,Q,ee]);let et=V(),es=A.find(e=>e.date===et),ea=es?es.steps:0,el=ea+e,er=es?es.goal:s,en=er>0?Math.min(el/er*100,100):0;return $?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(r.Zp,{className:"shadow-lg h-full flex flex-col",children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsxs)(r.ZB,{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(d.A,{className:"h-6 w-6 text-primary"}),"Today's Steps"]}),(0,a.jsxs)(N.lG,{children:[(0,a.jsx)(N.zM,{asChild:!0,children:(0,a.jsx)(n.$,{variant:"ghost",size:"icon","aria-label":"Edit daily step goal",children:(0,a.jsx)(c.A,{className:"h-5 w-5 text-muted-foreground hover:text-primary"})})}),(0,a.jsxs)(N.Cf,{children:[(0,a.jsx)(N.c7,{children:(0,a.jsx)(N.L3,{children:"Set Daily Step Goal"})}),(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsx)(b.J,{htmlFor:"daily-step-goal",children:"Goal (steps)"}),(0,a.jsx)(v.p,{id:"daily-step-goal",type:"number",value:C,onChange:e=>M(e.target.value),min:"1"})]}),(0,a.jsxs)(N.Es,{children:[(0,a.jsx)(N.HM,{asChild:!0,children:(0,a.jsx)(n.$,{type:"button",variant:"outline",children:"Cancel"})}),(0,a.jsx)(N.HM,{asChild:!0,children:(0,a.jsx)(n.$,{type:"submit",onClick:()=>{let e=parseInt(C);if(!isNaN(e)&&e>0){T(e);let t=V();D(s=>{let a=s.map(s=>s.date===t?{...s,goal:e}:s);return a.some(e=>e.date===t)||a.push({date:t,steps:0,goal:e}),a.sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime())}),F({title:"Goal Updated",description:"Daily step goal set to ".concat(e.toLocaleString(),".")})}else F({title:"Invalid Goal",description:"Please enter a valid number for the goal.",variant:"destructive"})},children:"Set Goal"})})]})]})]})]}),(0,a.jsx)(r.BT,{children:q?"Goal: ".concat(er.toLocaleString()," steps."):"Step tracking requires a native mobile device."})]}),(0,a.jsxs)(r.Wu,{className:"flex-grow flex flex-col items-center justify-center text-center space-y-4",children:[E&&null===_&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.A,{className:"h-8 w-8 animate-spin text-primary mx-auto"}),(0,a.jsx)("p",{children:"Initializing..."})]}),!q&&$&&(0,a.jsxs)("div",{className:"text-muted-foreground space-y-2 p-4 bg-muted/30 rounded-md w-full",children:[(0,a.jsx)(d.A,{className:"h-8 w-8 mx-auto"}),(0,a.jsx)("p",{className:"font-semibold",children:"Feature Unavailable"}),(0,a.jsx)("p",{className:"text-sm",children:"Available on native mobile devices (iOS/Android) only."})]}),q&&!1===_&&!E&&(0,a.jsxs)("div",{className:"text-destructive space-y-2 p-4 bg-destructive/10 rounded-md w-full",children:[(0,a.jsx)(m.A,{className:"h-8 w-8 mx-auto"}),(0,a.jsx)("p",{className:"font-semibold",children:"Not Supported"}),(0,a.jsx)("p",{className:"text-sm",children:I||"Step counting not supported on this device."})]}),q&&I&&!E&&(_||null===_)&&(0,a.jsxs)("div",{className:"text-destructive space-y-2 p-4 bg-destructive/10 rounded-md w-full",children:[(0,a.jsx)(m.A,{className:"h-8 w-8 mx-auto"}),(0,a.jsx)("p",{className:"font-semibold",children:"Tracking Error"}),(0,a.jsx)("p",{className:"text-sm",children:I}),(I.toLowerCase().includes("permission")||I.toLowerCase().includes("not authorized"))&&(0,a.jsx)("p",{className:"text-xs mt-2",children:"Check Motion & Fitness or Physical Activity permissions in your device settings."}),(0,a.jsx)(n.$,{onClick:Q,variant:"outline",size:"sm",className:"mt-2",children:"Retry Tracking"})]}),q&&_&&!I&&!E&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"text-4xl font-bold text-primary",children:el.toLocaleString()}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"steps today"}),(0,a.jsx)(i.k,{value:en,className:"w-full h-3"}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Goal: ",er.toLocaleString()," steps"]}),el>=er&&(0,a.jsxs)("p",{className:"text-sm font-semibold text-green-600 flex items-center justify-center gap-1",children:[(0,a.jsx)(u.A,{className:"h-4 w-4"})," Goal Reached Today!"]}),!G&&_&&!I&&!E&&(0,a.jsx)(n.$,{onClick:Q,className:"mt-2",children:ea>0||e>0?"Resume Step Tracking":"Start Step Tracking"})]})]}),(0,a.jsx)(r.wL,{className:"text-xs text-muted-foreground justify-center",children:G?"Live tracking active...":q&&_&&!I&&!E?"Tracking paused. Open app to resume.":q?E?"Initializing...":"Step tracking unavailable or error.":"Not a native device."})]}),q&&A.filter(e=>e.date!==V()&&e.steps>0).length>0&&(0,a.jsxs)("section",{id:"step-history",className:"mt-8",children:[(0,a.jsxs)("h3",{className:"text-xl font-semibold mb-4 text-foreground flex items-center gap-2",children:[(0,a.jsx)(p.A,{className:"h-5 w-5 text-primary"}),"Step Count History"]}),(0,a.jsx)(w.nD,{type:"multiple",className:"w-full space-y-2",children:A.filter(e=>e.date!==V()&&e.steps>0).map(e=>(0,a.jsxs)(w.As,{value:e.date,className:"border-b-0 rounded-lg overflow-hidden shadow-md bg-card",children:[(0,a.jsx)(w.$m,{className:"px-4 py-3 hover:bg-muted/50 text-base font-medium",children:(0,h.GP)((0,y.H)(e.date),"MMMM d, yyyy (eeee)")}),(0,a.jsx)(w.ub,{children:(0,a.jsxs)("div",{className:"p-4 border-t bg-background text-sm",children:[(0,a.jsxs)("p",{children:["Steps: ",(0,a.jsx)("span",{className:"font-semibold",children:e.steps.toLocaleString()})]}),(0,a.jsxs)("p",{children:["Goal: ",(0,a.jsx)("span",{className:"font-semibold",children:e.goal.toLocaleString()})]}),(0,a.jsx)(i.k,{value:e.goal>0?Math.min(e.steps/e.goal*100,100):0,className:"w-full h-3 mt-2"}),e.steps>=e.goal&&(0,a.jsx)("p",{className:"text-xs text-green-600 mt-1 font-medium",children:"Goal reached!"})]})})]},e.date))})]}),q&&0===A.filter(e=>e.date!==V()&&e.steps>0).length&&(0,a.jsx)("section",{id:"step-history-empty",className:"mt-8",children:(0,a.jsx)(r.Zp,{className:"shadow-md",children:(0,a.jsx)(r.Wu,{className:"pt-6 text-center text-muted-foreground",children:"No past step history with recorded steps yet. Keep tracking!"})})})]}):(0,a.jsxs)(r.Zp,{className:"shadow-lg h-full flex flex-col",children:[(0,a.jsx)(r.aR,{children:(0,a.jsx)(r.ZB,{children:"Steps Tracker"})}),(0,a.jsx)(r.Wu,{className:"flex-grow flex items-center justify-center",children:(0,a.jsx)(o.A,{className:"h-8 w-8 animate-spin text-primary"})})]})}},2523:(e,t,s)=>{"use strict";s.d(t,{p:()=>n});var a=s(5155),l=s(2115),r=s(9434);let n=l.forwardRef((e,t)=>{let{className:s,type:l,...n}=e;return(0,a.jsx)("input",{type:l,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...n})});n.displayName="Input"},2601:(e,t,s)=>{"use strict";s.d(t,{StressTracker:()=>j});var a=s(5155),l=s(2115),r=s(6695),n=s(285),i=s(8539),o=s(3152),d=s(9274),c=s(8716),m=s(3790),u=s(3129),p=s(7569),x=s(7481),f=s(5057);let g="stressLog_v1",h=["Take 5 deep breaths, focusing on the air entering and leaving your body.","Step away from your screen for 5 minutes and stretch.","Write down three things you are grateful for today.","Listen to a calming song or nature sounds.","Go for a short walk, even if it's just around the room.","Practice a mindful minute: focus all your senses on the present moment.","Identify one small, manageable task you can complete right now.","Reach out to a friend or loved one for a quick chat."];function j(){let[e,t]=(0,l.useState)([]),[s,j]=(0,l.useState)(""),[y,N]=(0,l.useState)(null),[v,b]=(0,l.useState)(""),{toast:w}=(0,x.dj)();(0,l.useEffect)(()=>{let e=localStorage.getItem(g);if(e)try{let s=JSON.parse(e);t(s.map(e=>({...e,timestamp:new Date(e.timestamp)})))}catch(e){console.error("Failed to parse stress log from localStorage",e),t([])}let s=new Date().toDateString(),a=localStorage.getItem("lastTipDate"),l=localStorage.getItem("currentDailyTip");a===s&&l||(l=h[Math.floor(Math.random()*h.length)],localStorage.setItem("currentDailyTip",l),localStorage.setItem("lastTipDate",s)),b(l)},[]);let S=e=>{t(e),localStorage.setItem(g,JSON.stringify(e))},k=t=>{y===t&&""!==s.trim()?(S([{level:t,notes:s,timestamp:new Date},...e]),w({title:"Stress Level Logged",description:"You logged feeling ".concat(t," with notes.")}),j(""),N(null)):y===t&&""===s.trim()?(S([{level:t,timestamp:new Date},...e]),w({title:"Stress Level Logged",description:"You logged feeling ".concat(t,".")}),N(null)):(N(t),j(""))},T=0===e.length?null:[...e].sort((e,t)=>t.timestamp.getTime()-e.timestamp.getTime())[0];return(0,a.jsxs)(r.Zp,{className:"shadow-lg h-full flex flex-col",children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsxs)(r.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(o.A,{className:"h-6 w-6 text-primary"}),"Stress Management"]}),(0,a.jsx)(r.BT,{children:"Log your stress levels and find helpful tips."})]}),(0,a.jsxs)(r.Wu,{className:"flex-grow space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2 text-foreground",children:"Log Your Current Stress Level"}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,a.jsxs)(n.$,{variant:"calm"===y?"default":"outline",onClick:()=>k("calm"),className:"flex-1 flex items-center gap-2",children:[(0,a.jsx)(d.A,{className:"h-5 w-5"})," Calm"]}),(0,a.jsxs)(n.$,{variant:"okay"===y?"default":"outline",onClick:()=>k("okay"),className:"flex-1 flex items-center gap-2",children:[(0,a.jsx)(c.A,{className:"h-5 w-5"})," Okay"]}),(0,a.jsxs)(n.$,{variant:"stressed"===y?"default":"outline",onClick:()=>k("stressed"),className:"flex-1 flex items-center gap-2",children:[(0,a.jsx)(m.A,{className:"h-5 w-5"})," Stressed"]})]}),y&&(0,a.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,a.jsx)(f.J,{htmlFor:"stress-notes",className:"text-sm font-medium",children:"Add notes about how you're feeling (optional):"}),(0,a.jsx)(i.T,{id:"stress-notes",placeholder:"Notes for when feeling ".concat(y,"..."),value:s,onChange:e=>j(e.target.value),rows:3}),(0,a.jsxs)(n.$,{onClick:()=>{y&&""!==s.trim()?(S([{level:y,notes:s,timestamp:new Date},...e]),w({title:"Stress Level Logged",description:"You logged feeling ".concat(y," with notes.")}),j(""),N(null)):y&&(S([{level:y,timestamp:new Date},...e]),w({title:"Stress Level Logged",description:"You logged feeling ".concat(y,".")}),j(""),N(null))},size:"sm",className:"mt-2",children:[(0,a.jsx)(u.A,{className:"mr-2 h-4 w-4"})," Save Log"]})]})]}),T&&(0,a.jsx)("div",{className:"p-3 bg-muted/50 rounded-md",children:(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Last log: ",(0,a.jsx)("span",{className:"font-semibold capitalize",children:T.level}),T.notes&&' - "'.concat(T.notes,'"'),(0,a.jsxs)("span",{className:"block text-xs",children:[" (",T.timestamp.toLocaleTimeString(),")"]})]})}),(0,a.jsxs)("div",{className:"space-y-2 pt-4 border-t",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-foreground flex items-center gap-2",children:[(0,a.jsx)(p.A,{className:"h-5 w-5 text-accent"}),"Daily Stress Relief Tip"]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground italic",children:v||"Take a moment for yourself today."})]})]})]})}},4165:(e,t,s)=>{"use strict";s.d(t,{Cf:()=>p,Es:()=>f,HM:()=>m,L3:()=>g,c7:()=>x,lG:()=>o,rr:()=>h,zM:()=>d});var a=s(5155),l=s(2115),r=s(5452),n=s(5318),i=s(9434);let o=r.bL,d=r.l9,c=r.ZL,m=r.bm,u=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.hJ,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...l})});u.displayName=r.hJ.displayName;let p=l.forwardRef((e,t)=>{let{className:s,children:l,...o}=e;return(0,a.jsxs)(c,{children:[(0,a.jsx)(u,{}),(0,a.jsxs)(r.UC,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...o,children:[l,(0,a.jsxs)(r.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(n.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});p.displayName=r.UC.displayName;let x=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...s})};x.displayName="DialogHeader";let f=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};f.displayName="DialogFooter";let g=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.hE,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",s),...l})});g.displayName=r.hE.displayName;let h=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.VY,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",s),...l})});h.displayName=r.VY.displayName},4228:(e,t,s)=>{"use strict";s.d(t,{SleepTracker:()=>E});var a=s(5155),l=s(2115),r=s(6695),n=s(285),i=s(4944),o=s(1781),d=s(5222),c=s(4301),m=s(534),u=s(8027),p=s(3089),x=s(1949),f=s(3638),g=s(7481),h=s(4165),j=s(2523),y=s(5057),N=s(549),v=s(9328),b=s(644),w=s(3343),S=s(389),k=s(808),T=s(9294),C=s(8816),M=s(274);let A="sleepLog_v2",D="userSleepGoal_v1";function E(){let[e,t]=(0,l.useState)([]),[s,E]=(0,l.useState)(8),[L,I]=(0,l.useState)(!1),{toast:R}=(0,g.dj)(),[G,O]=(0,l.useState)(!1),[_,H]=(0,l.useState)((0,v.GP)(new Date,"yyyy-MM-dd")),[F,P]=(0,l.useState)("23:00"),[z,U]=(0,l.useState)("07:00"),[$,J]=(0,l.useState)(null),[Z,B]=(0,l.useState)(!1),[W,Y]=(0,l.useState)(s.toString()),q=(0,l.useCallback)(()=>(0,v.GP)((0,b.o)(new Date),"yyyy-MM-dd"),[]);(0,l.useEffect)(()=>{I(!0);let e=localStorage.getItem(A);if(e)try{let s=JSON.parse(e);t(s.sort((e,t)=>(0,w.H)(t.wakeUpDate).getTime()-(0,w.H)(e.wakeUpDate).getTime()))}catch(e){console.error("Failed to parse sleep log from localStorage",e)}let s=localStorage.getItem(D);if(s){let e=parseFloat(s);!isNaN(e)&&e>0&&(E(e),Y(e.toString()))}},[]),(0,l.useEffect)(()=>{L&&e.length>0?localStorage.setItem(A,JSON.stringify(e)):L&&0===e.length&&localStorage.removeItem(A)},[e,L]),(0,l.useEffect)(()=>{L&&(localStorage.setItem(D,s.toString()),Y(s.toString()))},[s,L]);let V=e=>{if(isNaN(e)||e<0)return"N/A";let t=Math.floor(e/60);return"".concat(t,"h ").concat(e%60,"m")},X=(()=>{let t=q();return e.find(e=>e.wakeUpDate===t)})(),K=X?X.durationMinutes/(60*X.goalHours)*100:0;return L?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(r.Zp,{className:"shadow-lg h-full flex flex-col",children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsxs)(r.ZB,{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(o.A,{className:"h-6 w-6 text-primary"}),"Sleep Tracker"]}),(0,a.jsxs)(h.lG,{open:Z,onOpenChange:B,children:[(0,a.jsx)(h.zM,{asChild:!0,children:(0,a.jsx)(n.$,{variant:"ghost",size:"icon","aria-label":"Edit daily sleep goal",children:(0,a.jsx)(d.A,{className:"h-5 w-5 text-muted-foreground hover:text-primary"})})}),(0,a.jsxs)(h.Cf,{children:[(0,a.jsx)(h.c7,{children:(0,a.jsx)(h.L3,{children:"Set Daily Sleep Goal"})}),(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsx)(y.J,{htmlFor:"daily-sleep-goal",children:"Goal (hours)"}),(0,a.jsx)(j.p,{id:"daily-sleep-goal",type:"number",value:W,onChange:e=>Y(e.target.value),min:"1",max:"24",step:"0.5"})]}),(0,a.jsxs)(h.Es,{children:[(0,a.jsx)(h.HM,{asChild:!0,children:(0,a.jsx)(n.$,{type:"button",variant:"outline",children:"Cancel"})}),(0,a.jsx)(n.$,{type:"button",onClick:()=>{let e=parseFloat(W);!isNaN(e)&&e>0&&e<=24?(E(e),R({title:"Goal Updated",description:"Sleep goal set to ".concat(e," hours.")}),B(!1)):R({title:"Invalid Goal",description:"Please enter a valid number of hours (e.g., 1-24).",variant:"destructive"})},children:"Set Goal"})]})]})]})]}),(0,a.jsxs)(r.BT,{children:["Monitor your sleep patterns and quality. Goal: ",s," hours."]})]}),(0,a.jsx)(r.Wu,{className:"flex-grow flex flex-col items-center justify-center space-y-4",children:X?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-primary",children:V(X.durationMinutes)}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Slept from ",X.bedTime," to ",X.wakeTime]}),(0,a.jsx)(i.k,{value:K,className:"w-full h-3"}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Today's goal: ",X.goalHours," hours. ",K>=100?"Goal met!":""]})]}):(0,a.jsx)("p",{className:"text-muted-foreground",children:"No sleep logged for today yet."})}),(0,a.jsx)(r.wL,{children:(0,a.jsxs)(h.lG,{open:G,onOpenChange:e=>{O(e),e||J(null)},children:[(0,a.jsx)(h.zM,{asChild:!0,children:(0,a.jsxs)(n.$,{className:"w-full",children:[(0,a.jsx)(c.A,{className:"mr-2 h-5 w-5"})," ",X?"Update Today's Sleep":"Log Sleep"]})}),(0,a.jsxs)(h.Cf,{className:"sm:max-w-[425px]",children:[(0,a.jsxs)(h.c7,{children:[(0,a.jsxs)(h.L3,{children:[X?"Update":"Log"," Sleep"]}),(0,a.jsx)(r.BT,{children:"Enter your sleep details below."})]}),(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(y.J,{htmlFor:"wake-up-date",children:"Wake-up Date"}),(0,a.jsx)(j.p,{id:"wake-up-date",type:"date",value:_,onChange:e=>H(e.target.value)}),_&&(()=>{try{let e=(0,S.qg)(_,"yyyy-MM-dd",new Date);if(!isNaN(e.getTime())){let t=(0,v.GP)(e,"MMMM d, yyyy (EEEE)");return(0,a.jsxs)("p",{className:"text-sm text-muted-foreground mt-1 flex items-center gap-1",children:[(0,a.jsx)(m.A,{className:"h-4 w-4 text-primary"})," Selected: ",t]})}}catch(e){}return null})()]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsxs)(y.J,{htmlFor:"bedtime",className:"flex items-center gap-1",children:[(0,a.jsx)(u.A,{className:"h-4 w-4"}),"Bedtime"]}),(0,a.jsx)(j.p,{id:"bedtime",type:"time",value:F,onChange:e=>P(e.target.value)})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsxs)(y.J,{htmlFor:"waketime",className:"flex items-center gap-1",children:[(0,a.jsx)(p.A,{className:"h-4 w-4"}),"Wake-up Time"]}),(0,a.jsx)(j.p,{id:"waketime",type:"time",value:z,onChange:e=>U(e.target.value)})]})]}),$&&(0,a.jsxs)("p",{className:"text-sm text-destructive flex items-center gap-1",children:[(0,a.jsx)(x.A,{className:"h-4 w-4"}),$]})]}),(0,a.jsxs)(h.Es,{children:[(0,a.jsx)(h.HM,{asChild:!0,children:(0,a.jsx)(n.$,{variant:"outline",children:"Cancel"})}),(0,a.jsx)(n.$,{type:"button",onClick:()=>{if(J(null),!_||!F||!z){J("All fields are required.");return}try{let e=(0,S.qg)(_,"yyyy-MM-dd",new Date);if(isNaN(e.getTime())){J("Invalid wake-up date.");return}let[a,l]=F.split(":").map(Number),[r,n]=z.split(":").map(Number);if(isNaN(a)||isNaN(l)||isNaN(r)||isNaN(n)){J("Invalid time format. Use HH:mm.");return}let i=(0,k.g)((0,T.a)(e,r),n),o=(0,k.g)((0,T.a)(e,a),l);o>=i&&(o=(0,C.e)(o,1));let d=(0,M.o)(i,o);if(d<=0){J("Sleep duration must be positive. Check your times (e.g., bedtime should be before wake-up time).");return}let c={id:new Date().toISOString()+Math.random().toString(36).substring(2,9),wakeUpDate:_,bedTime:F,wakeTime:z,durationMinutes:d,goalHours:s};t(e=>[c,...e].sort((e,t)=>(0,w.H)(t.wakeUpDate).getTime()-(0,w.H)(e.wakeUpDate).getTime())),R({title:"Sleep Logged",description:"Logged ".concat(V(d)," of sleep.")}),O(!1),H((0,v.GP)(new Date,"yyyy-MM-dd")),P("23:00"),U("07:00")}catch(e){console.error("Error logging sleep:",e),J("An unexpected error occurred while logging sleep.")}},children:"Save Log"})]})]})]})})]}),(0,a.jsxs)("section",{id:"sleep-history",className:"mt-8",children:[(0,a.jsxs)("h3",{className:"text-xl font-semibold mb-4 text-foreground flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"h-5 w-5 text-primary"}),"Sleep History"]}),0===e.length?(0,a.jsx)(r.Zp,{className:"shadow-md",children:(0,a.jsx)(r.Wu,{className:"pt-6 text-center text-muted-foreground",children:"No sleep history recorded yet."})}):(0,a.jsx)(N.nD,{type:"multiple",className:"w-full space-y-2",children:e.map(e=>(0,a.jsxs)(N.As,{value:e.id,className:"border-b-0 rounded-lg overflow-hidden shadow-md bg-card",children:[(0,a.jsx)(N.$m,{className:"px-4 py-3 hover:bg-muted/50 text-base font-medium",children:(0,v.GP)((0,w.H)(e.wakeUpDate),"MMMM d, yyyy (EEEE)")}),(0,a.jsx)(N.ub,{children:(0,a.jsxs)("div",{className:"p-4 border-t bg-background text-sm space-y-1",children:[(0,a.jsxs)("p",{children:["Duration: ",(0,a.jsx)("span",{className:"font-semibold",children:V(e.durationMinutes)})]}),(0,a.jsxs)("p",{children:["Times: ",(0,a.jsxs)("span",{className:"font-semibold",children:[e.bedTime," - ",e.wakeTime]})]}),(0,a.jsxs)("p",{children:["Goal at logging: ",(0,a.jsxs)("span",{className:"font-semibold",children:[e.goalHours," hours"]})]}),(0,a.jsx)(i.k,{value:e.durationMinutes/(60*e.goalHours)*100,className:"w-full h-2.5 mt-2"}),e.durationMinutes/(60*e.goalHours)*100>=100&&(0,a.jsx)("p",{className:"text-xs text-green-600 mt-1 font-medium",children:"Goal reached!"})]})})]},e.id))})]})]}):(0,a.jsxs)(r.Zp,{className:"shadow-lg h-full flex flex-col",children:[(0,a.jsx)(r.aR,{children:(0,a.jsxs)(r.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(o.A,{className:"h-6 w-6 text-primary"}),"Sleep Tracker"]})}),(0,a.jsx)(r.Wu,{className:"flex-grow flex items-center justify-center",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"Loading sleep tracker..."})})]})}},4944:(e,t,s)=>{"use strict";s.d(t,{k:()=>i});var a=s(5155),l=s(2115),r=s(5863),n=s(9434);let i=l.forwardRef((e,t)=>{let{className:s,value:l,...i}=e;return(0,a.jsx)(r.bL,{ref:t,className:(0,n.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",s),...i,children:(0,a.jsx)(r.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(l||0),"%)")}})})});i.displayName=r.bL.displayName},5057:(e,t,s)=>{"use strict";s.d(t,{J:()=>d});var a=s(5155),l=s(2115),r=s(968),n=s(2085),i=s(9434);let o=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.b,{ref:t,className:(0,i.cn)(o(),s),...l})});d.displayName=r.b.displayName},6695:(e,t,s)=>{"use strict";s.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>n,aR:()=>i,wL:()=>m});var a=s(5155),l=s(2115),r=s(9434);let n=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...l})});n.displayName="Card";let i=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",s),...l})});i.displayName="CardHeader";let o=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",s),...l})});o.displayName="CardTitle";let d=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("text-sm text-muted-foreground",s),...l})});d.displayName="CardDescription";let c=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("p-6 pt-0",s),...l})});c.displayName="CardContent";let m=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("flex items-center p-6 pt-0",s),...l})});m.displayName="CardFooter"},7481:(e,t,s)=>{"use strict";s.d(t,{dj:()=>u});var a=s(2115);let l=0,r=new Map,n=e=>{if(r.has(e))return;let t=setTimeout(()=>{r.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);r.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?n(s):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],d={toasts:[]};function c(e){d=i(d,e),o.forEach(e=>{e(d)})}function m(e){let{...t}=e,s=(l=(l+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>c({type:"DISMISS_TOAST",toastId:s});return c({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||a()}}}),{id:s,dismiss:a,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function u(){let[e,t]=a.useState(d);return a.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},7640:(e,t,s)=>{Promise.resolve().then(s.bind(s,4228)),Promise.resolve().then(s.bind(s,2484)),Promise.resolve().then(s.bind(s,2601))},8539:(e,t,s)=>{"use strict";s.d(t,{T:()=>n});var a=s(5155),l=s(2115),r=s(9434);let n=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("textarea",{className:(0,r.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...l})});n.displayName="Textarea"},9434:(e,t,s)=>{"use strict";s.d(t,{cn:()=>r});var a=s(2596),l=s(9688);function r(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,l.QP)((0,a.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[942,239,397,267,672,92,410,441,684,358],()=>t(7640)),_N_E=e.O()}]);